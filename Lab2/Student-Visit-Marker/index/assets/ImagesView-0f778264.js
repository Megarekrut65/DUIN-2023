import{o as u,c as m,a as l,t as h,n as p,g as S,r as d,w as k,v as w,F as I,d as D,e as _,f as x}from"./index-439e7c00.js";const q={class:"col-md-4"},B=["src"],$=["href"],j={class:"card-header",style:{display:"flex","justify-content":"space-between"}},C={__name:"ImageItem",props:{id:{type:String,required:!0},url:{type:String,required:!0},date:{type:String,required:!0},removeSelf:{type:Function,required:!0},selectedItem:{type:String,required:!0}},setup(a){return(c,t)=>(u(),m("div",q,[l("div",{class:p(["card",a.selectedItem===a.id?"bg-danger":""]),style:{overflow:"hidden"}},[l("img",{src:a.url,class:"card-img-top",alt:"image",style:{height:"300px",width:"100%","object-fit":"cover"},onClick:t[0]||(t[0]=()=>a.removeSelf(null))},null,8,B),l("div",{class:"card-body",onClick:t[1]||(t[1]=()=>a.removeSelf(null))},[l("a",{href:a.url,class:"card-link",target:"_blank"},"View",8,$)]),l("div",j,[l("span",null,h(a.date),1),l("i",{class:"ti ti-x custom-btn",onClick:t[2]||(t[2]=(...n)=>a.removeSelf&&a.removeSelf(...n))})])],2)]))}},V={class:"card"},F={class:"card-body"},z=l("h1",{class:"mb-4"},"Saved images",-1),E=l("input",{type:"submit",value:"Search",class:"btn btn-primary py-1 fs-4 rounded-2 ml-2"},null,-1),L={class:"row mt-4"},N={__name:"ImagesView",setup(a){const c=S();let t=Object.keys(c).map(s=>({key:s,value:c[s]})).sort((s,e)=>new Date(e.value.date)-new Date(s.value.date));const n=d(t),i=d(""),f=s=>{x(s).catch(e=>console.log(e)),t=t.filter(e=>e.key!=s),v()},g=(s,e)=>{if(e===i.value&&s){f(e),i.value="";return}i.value=s?e:""},o=d(""),v=()=>{if(o.value=="")return n.value=t,!1;const s=[];for(let e in t)new Date(t[e].value.date).getDate()==new Date(o.value).getDate()&&s.push(t[e]);return n.value=s,!1};return(s,e)=>(u(),m("main",null,[l("div",V,[l("div",F,[z,l("form",{onSubmit:v,action:"#",onsubmit:"return false;",class:"mb-4",style:{display:"flex","align-items":"center"}},[k(l("input",{type:"date",class:"from-control","onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r)},null,512),[[w,o.value]]),E],32),l("div",L,[(u(!0),m(I,null,D(n.value,(r,y)=>(u(),_(C,{key:y,id:r.key,url:r.value.url,"selected-item":i.value,date:r.value.date,"remove-self":b=>g(b,r.key)},null,8,["id","url","selected-item","date","remove-self"]))),128))])])])]))}};export{N as default};
