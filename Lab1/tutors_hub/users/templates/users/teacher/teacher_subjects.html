{% extends "users/teacher/teacher.html" %}
{% load custom_filters %}


{% block teacher_content %}
    <h1>Subjects<a href="/account/subject" class="btn-link"><i class="ti ti-circle-plus"></i></a></h1>


    <div>
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Schedule</th>
                <th scope="col">Price, $</th>
                <th scope="col">Duration, m</th>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            {% for subject in subjects %}
                <tr class="{% if subject.visible %}table-success{% else %}table-secondary{% endif %}">
                    <td>{{ subject.title|truncate:20 }}</td>
                    <td>{{ subject.description|truncate:20 }}</td>
                    <td>{{ subject.work_schedule|truncate:20 }}</td>
                    <td>{{ subject.lesson_price }}</td>
                    <td>{{ subject.lesson_duration }}</td>
                    <th><a href="/account/subject/{{ subject.id }}"><i class="ti ti-pencil"></i></a></th>
                    <th>
                        <form id="remove-form-{{ subject.id }}" method="POST" action="/account/subject/delete/{{ subject.id }}">
                            {% csrf_token %}
                        </form>
                        <button class="btn-link" type="button"
                                onclick="openModal('Do you really want to remove subject {{ subject.title|truncate:20 }}?',
                                        'remove-form-{{ subject.id }}')">
                            <i class="ti ti-x"></i>
                        </button>
                    </th>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}